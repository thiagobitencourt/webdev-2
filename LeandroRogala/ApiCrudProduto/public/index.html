<!DOCTYPE html>
<html ng-app="apiCrudProduto">
<head>
  <meta charset="utf-8">
  <title>Produtos</title>
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <style>
  .sobre-linha {
    cursor: pointer;
  }

  .selecionado {
    background-color: blue;
  }
  </style>
</head>
<body>
  <div ng-controller="mainController">
    <h1>Produtos</h1>
    <div class="well">
      <label>Pesquise:<input type="text" ng-model="criteria"></label>
    </div>
    <table class="table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Nome</th>
          <th>Codigo</th>
          <th>Quantidade</th>
          <th>Disponivel</th>
          <th>Selecionado</th>
        </tr>
      </thread>
      <tbody>
        <tr ng-repeat="product in produtos | filter:{nome:criteria}" class="sobre-linha" ng-click="selectProduto(product)" ng-class="{'selecionado': product.selecionado}">
          <td>{{product._id}}</td>
          <td>{{product.nome}}</td>
          <td>{{product.codigo}}</td>
          <td>{{product.quantidade}}</td>
          <td>{{product.disponivel}}</td>
          <td>{{product.selecionado}}</td>
        </tr>
      </tbody>
    </table>
    <button type="button" ng-click="addProdutos()" class="btn btn primary">Adicionar</button>
    <button type="button" ng-click="deleteProduct()" class="btn btn-danger">Excluir</button>
    <button type="button" ng-click="editProduto()" class="btn btn-warning">Editar</button>
    <br/>
    <div class="row" ng-show="addProduto">
      <hr/>
      <h3>Cadastrar novo Produto</h3>
      <div class="col-md-12">
        <label>Nome do Produto</label>
        <input type="text" class="form-control" ng-model="newProduto.nome">
      </div>
      <div class="col-md-12">
        <label>Codigo do produto</label>
        <input type="text" class="form-control" ng-model="newProduto.codigo">
      </div>
      <div class="col-md-12">
        <label>Quantidade do Produto</label>
        <input type="text" class="form-control" ng-model="newProduto.quantidade">
      </div>
      <div class="col-md-12">
        <label>Produto disponivel</label>
        <input type="text" class="form-control" ng-model="newProduto.disponivel">
      </div>
      <br/>
      <button type"button" ng-click="saveNewProduto(newProduto)" class="btn btn-primary">Salvar</button>
    </div>
  </div>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
  <script src="apiCrudProduto.js" type="text/javascript"></script>
  <script src="servicoProdutos.js" type="text/javascript"></script>
</body>
</html>
